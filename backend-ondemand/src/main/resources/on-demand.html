<div style="height: 100%; width: 100%;">
    <video style="height: 100%; width: 100%; object-fit: cover; display: none;" src="[{{media-id}}]" id="video" autoplay
           muted></video>
</div>
<script>
    window.onload = function () {
        var url = "{{url}}";
        var video = document.getElementById("video");

        var request = new XMLHttpRequest();
        request.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 204) {
                video.muted = false;
                video.style.display = "block";
            }
        };

        request.open("GET", url, true);
        request.send();

        video.addEventListener('ended', function () {
            var finishedRequest = new XMLHttpRequest();
            finishedRequest.onreadystatechange = function () {};

            finishedRequest.open("GET", url, true);
            finishedRequest.send();
        });
    }
</script>
